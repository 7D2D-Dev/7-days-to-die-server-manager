<%- exposeLocalsToBrowser() %>

<div>

    <div class="form-group">
        <label for="player-name-select">Tracking player</label>
        <select class="form-control" name="player-name-select" id="player-name-select">

            <% players.forEach(player => { %>

                <option value="<%= player.id %>">
                    <%= player.name %>
                </option>

                <% }) %>

        </select>
    </div>
    <input name="tracking-player-btn" id="tracking-player-btn" class="btn btn-primary btn-lg" type="button" value="Get data">


</div>


<script>

    $(document).ready(() => {

        const server = window.SAILS_LOCALS.server;


        $('#tracking-player-btn').click(e => {
            let playerId = $("#player-name-select").val();

            $.get('/api/sdtdserver/tracking', { serverId: server.id, playerId: playerId }, data => {
                console.log(data)
            })


        })

    })

</script>